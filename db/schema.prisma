generator javascript {
        provider = "prisma-client-js"
        output   = "./generated/client-js"
}

generator python {
        provider             = "prisma-client-py"
        interface            = "sync"
        recursive_type_depth = 5
        output               = "./generated/client-py"
}

datasource db {
        provider  = "postgresql"
        url       = env("POSTGRES_PRISMA_URL")
        directUrl = env("POSTGRES_URL_NON_POOLING")
}

// ==========================================
// USER MANAGEMENT
// ==========================================

model User {
        id             String   @id @default(cuid())
        email          String   @unique
        username       String?  @unique
        githubUsername String?  @unique
        displayName    String?
        avatarUrl      String?
        createdAt      DateTime @default(now())
        updatedAt      DateTime @updatedAt

        // Authentication
        password      String?
        emailVerified DateTime?
        lastLoginAt   DateTime?
        isActive      Boolean   @default(true)

        // User preferences
        preferences Json?

        @@map("users")
}
